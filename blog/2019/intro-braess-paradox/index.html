<!DOCTYPE html>
<html lang="en">

  <!-- Head -->
  <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>An introduction to Braess' Paradox | Bo Wen</title>
    <meta name="author" content="Bo  Wen">
    <meta name="description" content="a famous network optimization problem">
    <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website, technology, city, data">


    <!-- Bootstrap & MDB -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous">

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="" id="highlight_theme_light">

    <!-- Styles -->
    
    <link rel="shortcut icon" href="/assets/img/logo/favicon.ico">
    
    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://www.bowenwen.com/blog/2019/intro-braess-paradox/">
    
    <!-- Dark Mode -->
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark">

    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
    

  </head>

  <!-- Body -->
  <body class=" sticky-bottom-footer">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm sticky-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="/">Bo Wen</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- About -->
              <li class="nav-item ">
                <a class="nav-link" href="/">about</a>
              </li>
              
              <!-- Blog -->
              <li class="nav-item active">
                <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a>
              </li>

              <!-- Other pages -->
              <li class="nav-item ">
                <a class="nav-link" href="/repositories/">repositories</a>
              </li>
              <li class="nav-item ">
                <a class="nav-link" href="/cv/">cv</a>
              </li>

              <!-- Toogle theme mode -->
              <li class="toggle-container">
                <button id="light-toggle" title="Change theme">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </button>
              </li>
            </ul>
          </div>
        </div>
      </nav>

      <!-- Scrolling Progress Bar -->
      <progress id="progress" value="0">
        <div class="progress-container">
          <span class="progress-bar"></span>
        </div>
      </progress>
    </header>


    <!-- Content -->
    <div class="container mt-5">
      <!-- _layouts/post.html -->

<div class="post">

  <header class="post-header">
    <h1 class="post-title">An introduction to Braess' Paradox</h1>
    <p class="post-meta">May 1, 2019</p>
    <p class="post-tags">
      <a href="/blog/2019"> <i class="fas fa-calendar fa-sm"></i> 2019 </a>
        ·  
        <a href="/blog/tag/math">
          <i class="fas fa-hashtag fa-sm"></i> math</a>  
          <a href="/blog/tag/traffic">
          <i class="fas fa-hashtag fa-sm"></i> traffic</a>  
          
        ·  
        <a href="/blog/category/algorithms">
          <i class="fas fa-tag fa-sm"></i> algorithms</a>  
          

    </p>
  </header>

  <article class="post-content">
    <p><em>Tl’dr: Usually, additional roads improve congestion. However, in certain circumstances, more roads can lead to worse congestion. It is important to assess the impact of new infrastructure!</em></p>

<p>I first learned about Braess’ Paradox in a third year transportation engineering class. It is a simple exercise to demonstrate the importance of evaluating the impact of infrastructural investments.</p>

<h2 id="base-case-scenario">Base Case Scenario</h2>

<h3 id="problem-definition">Problem Definition</h3>

<p>Given there is 300 cars trying to travel from point A to point B, as shown below:</p>

<p><img src="/assets/img/posts/network_braess_paradox_1.svg" alt="" width="300"></p>

<p>To help us in our calculation, let us assume the travel time on these road links are as follows, where t is travel time, and v is volume on the road (i.e., number of cars):</p>
<ul>
  <li>for link 1 and 4:  \(t=1+0.02v\)</li>
  <li>for link 2 and 3:  \(t=6+0.01v\)</li>
</ul>

<p>There are two possible path connecting A and B:</p>
<ul>
  <li>path x through link 1 and 2, via the top two links</li>
  <li>path y through link 3 and 4, via the bottom two links</li>
</ul>

<h3 id="solution">Solution</h3>

<p>Without doing any calculations, we know the number of cars will be equally divided between path x and y because the two paths have exactly the same two types of links. We can confirm this by the calculations below:</p>

<p>Let the travel times of the two options, \(t_1\) and \(t_2\), be equal (this is the condition for user equilibrium where you cannot “beat” the system by switching path), find volumes on the two path \(v1\) and \(v2\):</p>

\[t_x = t_y \rightarrow t_1 + t_2 = t_3 + t_4\]

\[v_1 = v_2 = v_x \text{ and } v_3 = v_4 = v_y\]

\[1+0.02(v_x) + 6+0.01(v_x) = 1+0.02(v_y) + 6+0.01(v_y)\]

\[\text{since}\, v_{total} = v_x + v_y\]

\[7+0.03(v_{total}-v_y) = 7+0.03(v_y)\]

\[v_y = 150\]

\[\boxed{v_y = 150, v_x = 150, t_x = t_y = 11.5}\]

<p>The travel time per car is 11.5 minutes; there are 150 cars on each path.</p>

<h3 id="benefit-evaluation">Benefit Evaluation</h3>

<p>In this example, let us evaluate “benefit” in terms of total network travel times. For simplicity, let us assume there are only 1 person per car</p>

\[\boxed{tt_{network} = 11.5(300) = 3,450}\]

<p>The total network travel time is 3,450 minutes or 2.40 days.</p>

<h2 id="new-network-scenario">New Network Scenario</h2>

<p>If you have get the gist of the calculation in the base case scenario, the next part is going to get more interesting. What if we add a new one way road in the middle of the network? Traditional wisdom would suggest that adding new roads will improve congestion–let’s see if that is true and by how much.</p>

<h3 id="problem-definition-1">Problem Definition</h3>

<p>Again, there are 300 cars trying to travel from point A to point B, as shown below, but now with an additional one-way road in the middle:</p>

<p><img src="/assets/img/posts/network_braess_paradox_2.svg" alt="" width="300"></p>

<p>Here are a summary of the travel time functions:</p>
<ul>
  <li>for link 1 and 4:  \(t=1+0.02v\)</li>
  <li>for link 2 and 3:  \(t=6+0.01v\)</li>
  <li>for link 5:  \(t=2+0.01v\)</li>
</ul>

<p>Since we added a new link, there are now 3 ways to travel across the network:</p>
<ul>
  <li>path x through link 1 and 2, via the top two links</li>
  <li>path y through link 3 and 4, via the bottom two links</li>
  <li>path z through link 1, 5 and 4</li>
</ul>

<h3 id="solution-1">Solution</h3>

<p>The additional path adds a new spin to solving this problem, but our assumptions are still the same. Using user equilibrium assumption, the travel times on all paths will be equal. Here are the summary of conditions:</p>

\[t_x = t_y = t_z\]

\[t_x = t_1 + t_2\]

\[t_y = t_3 + t_4\]

\[t_z = t_1 + t_4 + t_5\]

\[300 = v_x + v_y + v_z\]

<p>Applying the below conditions is where we need to be careful with the math. Because path z shares path with both path x and y, we have to make sure to add the volumes to the shared links on path z. We can ensure that this is accounted for by using volume on the links when solving for volumes:</p>

\[v_1 = v_x + v_z\]

\[v_2 = v_x\]

\[v_3 = v_y\]

\[v_4 = v_y + v_z\]

\[v_5 = v_z\]

\[300 = v_2 + v_3 + v_5\]

<p>Let rearrange our equations and solve all the volumes first.</p>

\[t_2 = t_3\]

\[6 + 0.01v_2 + 1 + 0.02v_2 = 6 + 0.01v_3 + 1 + 0.02v_3\]

\[v_2 = v_3\]

\[300 = 2v_2 + v_5\]

\[(300 - v_5)/2 = v_2\]

<p>Now that we have almost all of the volume relationships between paths and links, we are very close to getting all of the volumes solved.</p>

\[t_5 = t_3\]

\[1 + 0.02v_1 + 1 + 0.02v_4 + 2 + 0.01v_5 = 6 + 0.01v_3 + 1 + 0.02v_4\]

\[0.02(v_2+v_5) + 0.02(v_2+v_5) + 0.01v_5 = 3 + 0.01v_3 + 0.02(v_2+v_5)\]

\[0.01v_2+ 0.03v_5 = 3\]

\[0.01(300 - v_5)/2+ 0.03v_5 = 3\]

\[0.025v_5 = 1.5\]

\[v_5 = 60\]

<p>So given our other conditions, here are our answers for link volumes and travel times:</p>

\[\boxed{v_1 = 180, v_2 = 120, v_3 = 120, v_4 = 180, v_5 = 60}\]

\[\boxed{t_1 = 4.6, t_2 = 7.2, t_3 = 7.2, t_4 = 4.6, t_5 = 1.6}\]

<p>Finally, let’s add up respective link travel times to get path travel times.</p>

\[\boxed{t_x = t_y = t_z = 11.8}\]

<h3 id="benefit-evaluation-1">Benefit Evaluation</h3>

\[\boxed{tt_{network} = 11.8(300) = 3,540}\]

<p>The total network travel time is 3,540 minutes or 2.46 days.</p>

<p>Our total network travel time has increased, indicating a worsening of congestion.</p>

<h2 id="closing-remarks">Closing Remarks</h2>

<p>So, what have we learned from this simple example of Braess’ Paradox? In simple terms, we cannot rely on our intuitions and rules of thumb in all cases. There are exceptions to the rule that building roads will resolve congestion and it is important for us to assess the impact of infrastructure on road performance.</p>

  </article>


  
    
    <br>
    <hr>
    <br>
    <ul class="list-disc pl-8"></ul>

    <!-- Adds related posts to the end of an article -->
    <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2>
    <p class="mb-2">Here are some more articles you might like to read next:</p>
  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2022/giscus-comments/">a post with giscus comments</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2019/wardrop/">Wardrop's Principles</a>
  </li>

  

  <li class="my-2">
    <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2015/disqus-comments/">a post with disqus comments</a>
  </li>

</div>

    </div>

    <!-- Footer -->    <footer class="sticky-bottom mt-5">
      <div class="container">
        © Copyright 2023 Bo  Wen. 
      </div>
    </footer>

    <!-- JavaScripts -->
    <!-- jQuery -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script>

    <!-- Masonry & imagesLoaded -->
  <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/masonry.js" type="text/javascript"></script>
    
  <!-- Medium Zoom JS -->
  <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script>
  <script defer src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script defer src="/assets/js/common.js"></script>
  <script defer src="/assets/js/copy_code.js" type="text/javascript"></script>

    
  <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script>
  <script async src="https://badge.dimensions.ai/badge.js"></script>

    <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-115462185-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ window.dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-115462185-1');
  </script>
    

<!-- Scrolling Progress Bar -->
<script type="text/javascript">
  /*
   * This JavaScript code has been adapted from the article 
   * https://css-tricks.com/reading-position-indicator/ authored by Pankaj Parashar, 
   * published on the website https://css-tricks.com on the 7th of May, 2014.
   * Couple of changes were made to the original code to make it compatible 
   * with the `al-foio` theme.
   */
  const progressBar = $("#progress");
  /*
   * We set up the bar after all elements are done loading.
   * In some cases, if the images in the page are larger than the intended
   * size they'll have on the page, they'll be resized via CSS to accomodate
   * the desired size. This mistake, however, breaks the computations as the
   * scroll size is computed as soon as the elements finish loading.
   * To account for this, a minimal delay was introduced before computing the
   * values.
   */
  window.onload = function () {
    setTimeout(progressBarSetup, 50);
  };
  /*
   * We set up the bar according to the browser.
   * If the browser supports the progress element we use that.
   * Otherwise, we resize the bar thru CSS styling
   */
  function progressBarSetup() {
    if ("max" in document.createElement("progress")) {
      initializeProgressElement();
      $(document).on("scroll", function() {
        progressBar.attr({ value: getCurrentScrollPosition() });
      });
      $(window).on("resize", initializeProgressElement);
    } else {
      resizeProgressBar();
      $(document).on("scroll", resizeProgressBar);
      $(window).on("resize", resizeProgressBar);
    }
  }
  /*
   * The vertical scroll position is the same as the number of pixels that
   * are hidden from view above the scrollable area. Thus, a value > 0 is
   * how much the user has scrolled from the top
   */
  function getCurrentScrollPosition() {
    return $(window).scrollTop();
  }

  function initializeProgressElement() {
    let navbarHeight = $("#navbar").outerHeight(true);
    $("body").css({ "padding-top": navbarHeight });
    $("progress-container").css({ "padding-top": navbarHeight });
    progressBar.css({ top: navbarHeight });
    progressBar.attr({
      max: getDistanceToScroll(),
      value: getCurrentScrollPosition(),
    });
  }
  /*
   * The offset between the html document height and the browser viewport
   * height will be greater than zero if vertical scroll is possible.
   * This is the distance the user can scroll
   */
  function getDistanceToScroll() {
    return $(document).height() - $(window).height();
  }

  function resizeProgressBar() {
    progressBar.css({ width: getWidthPercentage() + "%" });
  }
  // The scroll ratio equals the percentage to resize the bar
  function getWidthPercentage() {
    return (getCurrentScrollPosition() / getDistanceToScroll()) * 100;
  }
</script>

  </body>
</html>
